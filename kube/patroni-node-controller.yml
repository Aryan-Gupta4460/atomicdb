kind: ReplicationController
apiversion: v1
metadata:
  name: patroni
  labels:
    app: patroni
    role: node
spec:
  replicas: 3
  selector:
    app: postgresql
    role: node
  template:
    metadata:
        labels:
            app: postgresql
            role: node
    spec:
        containers:
        - name: postgresql
          image: jberkus/patroni-atomic
          ports:
          - name: database-port
            containerPort: 5432
          - name: patroni-api
            containerPort: 8001
          env:
          - name: CLUSTER
            value: atomic02
          - name: APIUSER
            value: patroni
          - name: APIPASS
            value: patroni
          - name: ETCD
            value: 172.31.43.178
          - name: ADMINUSER
            value: admin
          - name: ADMINPASS
            value: admin
